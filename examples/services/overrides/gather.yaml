# Kaduna override for Gather.
gather:
  repository: "ehealthafrica/gather"
environment: prod
provider:
  #aws: false
  gcp: true
domain: .${domain}
trusted_origins: gather.${domain}
service:
  type: NodePort
ingress:
  certsecret: wildcard
  hosts:
    - gather.${domain}
  ssl:
    letsencrypt: true
    cert_secret: .${domain}
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/enable-cors: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "75M"
    kubernetes.io/tls-acme: "true"
    certmanager.k8s.io/cluster-issuer: letsencrypt
    certmanager.k8s.io/acme-challenge-type: dns01
    certmanager.k8s.io/acme-dns01-provider: ${dns_provider}
aether_modules: odk,kernel
aether:
  kernel:
    secret: kernel-secrets
    url: https://kernel.${domain}
  odk:
    enabled: true
    secret: odk-secrets
    url: https://odk.${domain}
app:
  db:
    host:  127.0.0.1
    secret: database-credentials
    user: postgres
    name: ${project}_gather
database:
  # set google sql instance name, e.g. modern-rex-207814:europe-west1:gatherdb-instance
  instance: ${database_instance_name}
